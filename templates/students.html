{% extends 'layout.html' %}
{% block content %}
<section class="section card">
    <div class="card__header">
        <h2>Студенты</h2>
        <div class="actions">
            <a class="btn btn--primary" href="{{ url_for('students.create_student') }}">Добавить</a>
        </div>
    </div>
    <table class="table">
        <thead>
            <tr>
                <th>Номер</th><th>ФИО</th><th>Группа</th><th>Факультет</th><th>Направление</th><th>Действия</th>
            </tr>
        </thead>
        <tbody>
        {% for s in students %}
            <tr>
                <td>{{ s.student_number }}</td>
                <td>{{ s.last_name }} {{ s.first_name }} {{ s.patronymic }}</td>
                <td>{{ s.group_name }}</td>
                <td>{{ s.faculty_name }}</td>
                <td>{{ s.program_name }}</td>
                <td class="table-actions">
                    <a class="btn btn--secondary btn--ghost" href="{{ url_for('students.edit_student', student_id=s.id) }}">Редактировать</a>
                    <form method="post" action="{{ url_for('students.delete_student', student_id=s.id) }}">
                        <button class="btn btn--danger" type="submit" onclick="return confirm('Удалить?')">Удалить</button>
                    </form>
                    <a class="btn btn--secondary btn--ghost" href="{{ url_for('reports.transcript', student_id=s.id) }}">Справка</a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</section>
{% endblock %}
